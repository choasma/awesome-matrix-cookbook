<!doctype html>
<html lang="en">
<head>
<title></title>
<!-- 2020-11-25 Wed 00:09 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<meta name="author" content="kma">

<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<style>
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 18px;
    margin-bottom: 105px;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script>
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "center",
  displayIndent: "2em",
  messageStyle: "none",
  "HTML-CSS": {
    scale: 100,
    styles: {
      ".MathJax_Display": {
        "font-size": "100%"
      }
    }
  },
  "SVG": {
    scale: 100,
    styles: {
      ".MathJax_SVG_Display": {
        "font-size": "100%",
        "margin-left": "-2.281em"
      }
    }
  }
});
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_SVG"></script>
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-3 col-md-push-9"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-1">1. Basic essentials</a></li>
<li><a href="#sec-2">2. Taylor expansion</a>
<ul class="nav">
<li><a href="#sec-2-1">2.1. Example:  \(\nabla_\mathbf{X} \mathbf{a}^T \mathbf{X} \mathbf{b} = \mathbf{a}\mathbf{b}^T\)</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Component-wised derivation</a>
<ul class="nav">
<li><a href="#sec-3-1">3.1. Example:  \(\nabla_\mathbf{X} \mathbf{a}^T \mathbf{X} \mathbf{b} = \mathbf{a}\mathbf{b}^T\) (again)</a></li>
</ul>
</li>
</ul>
</div>
</nav>
</div><div class="col-md-9 col-md-pull-3"><h1 class="title"></h1>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Basic essentials</h2>
<div class="outline-text-2" id="text-1">
<p>
This section illustrates some essentials to make the proof of equations. The following hits are usually being adopted
to solve the derivative problems (just in my opinion).
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Taylor expansion</h2>
<div class="outline-text-2" id="text-2">
<p>
\(f(\mathbf{x} + d\mathbf{x}) = f(\mathbf{x})  + \mathbf{g}^T d\mathbf{x} +
\frac12 d\mathbf{x}^T\mathbf{H}d\mathbf{x} + \epsilon(\left\|d\mathbf{x}\right\|^3)\)  
</p>

<p>
In other words, the most of the gradient in matrix cookbook can be found if you
can derive the equation into the form of inner product of two terms. One term
is the small step variable (e.g., \(d\mathbf{x}\)), the other one is the rest,
which is then your derivative answer. Additionally, always keeps in mind that 
</p>

<p>
\(\text{tr}(\mathbf{A}^T\mathbf{B}) = \left<\mathbf{A},\mathbf{B}\right>_F\) ,
</p>

<p>
that the trace of two matrices is the frobenious inner product (<a href="https://en.wikipedia.org/wiki/Frobenius_inner_product">link</a>)
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Example:  \(\nabla_\mathbf{X} \mathbf{a}^T \mathbf{X} \mathbf{b} = \mathbf{a}\mathbf{b}^T\)</h3>
<div class="outline-text-3" id="text-2-1">
<div class="latex">
\begin{equation}
\begin{split}
f(\mathbf{X} + \mathbf{H}) &= \mathbf{a}^T (\mathbf{X} + \mathbf{H}) \mathbf{b} \\
                           &= \mathbf{a}^T \mathbf{X} \mathbf{b} + \mathbf{a}^T \mathbf{H} \mathbf{b}\\
\end{split}
\end{equation}

</div>

<p>
Then 
</p>

<div class="latex">
\begin{equation}
\begin{split}
f(\mathbf{X}+\mathbf{H}) - f(\mathbf{X}) &= \mathbf{a}^T \mathbf{H} \mathbf{b} \\
                                         &= \text{tr}(\mathbf{a}^T \mathbf{H} \mathbf{b}) \\
                                         &= \text{tr}(\mathbf{b} \mathbf{a}^T \mathbf{H} ) \\
                                         &= \left<\mathbf{a}\mathbf{b}^T, \mathbf{H}\right>
\end{split}
\end{equation}

</div>

<p>
So \(\mathbf{a}\mathbf{b}^T\) is your answer. See (<a href="https://math.stackexchange.com/a/2189525/852078">link</a>). Please also remember all
the properties of trace operator.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Component-wised derivation</h2>
<div class="outline-text-2" id="text-3">
<p>
It is basically you find the gradient from the perspective of its components. Let's
say you want to find \(\nabla_{\mathbf{X}} f(\mathbf{X})\), you could find the
\(\nabla_{X_{ij}}f(\mathbf{X})\) first and then stack all the solution
together to form the matrix. Personally, I think the indicies would get
cluttered at the end so I prefer the previous approach more.
</p>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Example:  \(\nabla_\mathbf{X} \mathbf{a}^T \mathbf{X} \mathbf{b} = \mathbf{a}\mathbf{b}^T\) (again)</h3>
<div class="outline-text-3" id="text-3-1">
<p>
\(\mathbf{a}^T\mathbf{X}\mathbf{b} = \sum_{j,i} a_j X_{ij} b_i\)
</p>

<p>
then
</p>

<p>
\(\frac{\partial }{\partial X_{ij}} \mathbf{a}^T\mathbf{X}\mathbf{b} = a_jb_i\)
</p>

<p>
Then stacking those \(\frac{\partial }{\partial X_{ij}}\) into full matrix you'll
get the answer. See (<a href="https://math.stackexchange.com/a/2190586/852078">link</a>)
</p>
</div>
</div>
</div>
</div></div></div>
<footer id="postamble" class="">
<div><p class="author">Author: kma</p>
<p class="date">Created: 2020-11-25 Wed 00:09</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 27.1 (<a href="http://orgmode.org">Org-mode</a> 9.3.6)</p>
</div>
</footer>
</body>
</html>
